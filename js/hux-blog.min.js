/*!
 * Hux Blog v1.7.0 (http://huxpro.github.io)
 * Copyright 2017 Hux <huxpro@gmail.com>
 */
 
$(document).ready(function(){
	$("#toggle-sidebar").click(function(){
		$("#side-nav").showSidebar();
	});
});

$(document).ready(function(){
	$("table").wrap("<div class='table-responsive'></div>"),
	$("table").addClass("table")
}),
	
$(document).ready(function(){
	$('iframe[src*="youtube.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>'),
	$('iframe[src*="youtube.com"]').addClass("embed-responsive-item"),
	$('iframe[src*="vimeo.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>'),
	$('iframe[src*="vimeo.com"]').addClass("embed-responsive-item")
}),

jQuery(document).ready(function(a){
	var b=1170;
	if(a(window).width()>b){
		var c=a(".navbar-custom").height(),
		d=a(".intro-header .container").height();
		a(window).on("scroll",{previousTop:0},
		
		function(){
			var b=a(window).scrollTop(),
			e=a(".side-catalog");
			b<this.previousTop?b>0&&a(".navbar-custom").hasClass("is-fixed")?a(".navbar-custom").addClass("is-visible"):a(".navbar-custom").removeClass("is-visible is-fixed"):(a(".navbar-custom").removeClass("is-visible"),
			b>c&&!a(".navbar-custom").hasClass("is-fixed")&&a(".navbar-custom").addClass("is-fixed")),
			this.previousTop=b,
			e.show(),b>d+41?e.addClass("fixed"):e.removeClass("fixed")
		}
	)}
});

$(function(){
    function footerPosition(){
        $("footer").removeClass("fixed-bottom");
        var contentHeight = document.body.scrollHeight,//网页正文全文高度
            winHeight = window.innerHeight;//可视窗口高度，不包括浏览器顶部工具栏
        if(!(contentHeight > winHeight)){
            //当网页正文高度小于可视窗口高度时，为footer添加类fixed-bottom
            $("footer").addClass("fixed-bottom");
        }
    }
    footerPosition();
    $(window).resize(footerPosition);
});

(function($){
	$.fn.showSidebar = function(){
		var nav = $(this);
		var sidebarleft = nav.css("left");
		var olddegree, per;
		
		if(sidebarleft=="-300px"){
			nav.animate({
				left:"0px"
			}, 400);
			
			$("body").animate({
				paddingLeft:"250px"
			}, 400);
			
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75,
				function() {
					$(this).css("-webkit-transform","rotateZ(90deg)").css("transform", "rotateZ(45deg)");
				}
			);
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75,
				function() {
					$(this).css("-webkit-transform","rotateZ(90deg)").css("transform", "rotateZ(90deg)");
				}
			);
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75,
				function() {
					$(this).css("-webkit-transform","rotateZ(90deg)").css("transform", "rotateZ(135deg)");
				}
			);
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75, 
				function() {
					$(this).css("-webkit-transform", "rotateZ(0deg)").css("transform", "rotateZ(180deg)");
				}
			);
			
		}
		else{
			nav.animate({
				left: "-300px"
			}, 400);
			
			$("body").animate({
				paddingLeft: "0px"
			}, 400);
			
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75,
				function() {
					$(this).css("-webkit-transform","rotateZ(90deg)").css("transform", "rotateZ(135deg)");
				}
			);
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75,
				function() {
					$(this).css("-webkit-transform","rotateZ(90deg)").css("transform", "rotateZ(90deg)");
				}
			);
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75,
				function() {
					$(this).css("-webkit-transform","rotateZ(90deg)").css("transform", "rotateZ(45deg)");
				}
			);
			$("#toggle-sidebar").animate({
				left:"20px"
			}, 75, 
				function() {
					$(this).css("-webkit-transform", "rotateZ(0deg)").css("transform", "rotateZ(0deg)");
				}
			);
			
			
		}
	};
})(jQuery);
